{% extends 'base.html' %}
{% block title %}Nuevo Contrato Venta{% endblock %}
{% block content %}
<div class="container mt-4">
    <div class="card shadow-sm p-4" style="background-color: #eceff1;"> <!-- Gris azulado -->
        <h2 class="text-center" style="color: #263238;">Nuevo Contrato de Venta</h2>
        <form method="post">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label>Propiedad:</label>
                    <select name="id_propiedad" class="form-control">{% for p in propiedades %}<option value="{{ p.id_propiedad }}">{{ p.direccion }}</option>{% endfor %}</select>
                </div>
                <div class="col-md-6 mb-3">
                    <label>Propietario:</label>
                    <select name="id_propietario" class="form-control">{% for p in propietarios %}<option value="{{ p.id_propietario }}">{{ p.nombre }} {{ p.apellido }}</option>{% endfor %}</select>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label>Cliente (Comprador):</label>
                    <select name="id_cliente" class="form-control">{% for c in clientes %}<option value="{{ c.id_cliente }}">{{ c.nombre }} {{ c.apellido }}</option>{% endfor %}</select>
                </div>
                <div class="col-md-6 mb-3">
                    <label>Agente:</label>
                    <select name="id_agente" class="form-control">{% for a in agentes %}<option value="{{ a.id_agente }}">{{ a.nombre }} {{ a.apellido }}</option>{% endfor %}</select>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3"><label>Fecha Contrato:</label><input type="date" class="form-control" name="fecha_contrato" required></div>
                <div class="col-md-4 mb-3"><label>Fecha Cierre:</label><input type="date" class="form-control" name="fecha_cierre" required></div>
                <div class="col-md-4 mb-3"><label>Estado:</label><input type="text" class="form-control" name="estado_contrato" required></div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3"><label>Precio Final:</label><input type="number" step="0.01" class="form-control" name="precio_final" required></div>
                <div class="col-md-6 mb-3"><label>Comisi√≥n Agente:</label><input type="number" step="0.01" class="form-control" name="comision_agente" required></div>
            </div>
            <button type="submit" class="btn btn-primary">Crear Contrato</button>
        </form>
    </div>
</div>
{% endblock %}